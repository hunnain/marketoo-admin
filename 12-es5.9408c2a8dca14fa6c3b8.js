function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(o):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{qpc4:function(t,e,o){"use strict";o.r(e),o.d(e,"PromotionModule",(function(){return X}));var n,a=o("ofXK"),i=o("1kSV"),r=o("3Pt+"),c=o("lDzL"),l=o("tyNb"),s=o("fXoL"),u=o("EfS0"),b=((n=function(){function t(e){_classCallCheck(this,t),this.commonService=e}return _createClass(t,[{key:"getPromotion",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.commonService.get("admin/get-promotion?".concat(t))}},{key:"updatePromotion",value:function(t){return this.commonService.post("admin/update-promotion",t)}}]),t}()).\u0275fac=function(t){return new(t||n)(s.gc(u.a))},n.\u0275prov=s.Ob({token:n,factory:n.\u0275fac,providedIn:"root"}),n),p=o("sYmb"),d=o("668k"),m=o("M9IT");function f(t,e){if(1&t){var o=s.Zb();s.Yb(0,"span",22),s.Yb(1,"i",23),s.kc("click",(function(){s.Hc(o);var t=e.value;return s.oc(2).onSelectRow(t)})),s.Xb(),s.Xb()}}function g(t,e){if(1&t){var o=s.Zb();s.Yb(0,"div",25),s.Yb(1,"mat-paginator",26),s.kc("page",(function(t){return s.Hc(o),s.oc(3).pageEvent(t)})),s.Xb(),s.Xb()}if(2&t){var n=s.oc(3);s.Cb(1),s.tc("pageIndex",n.pagination.CurrentPage-1)("length",n.pagination.TotalCount)("pageSize",n.pagination.PageSize)("pageSizeOptions",n.pageSizeOptions)}}function h(t,e){if(1&t&&s.Pc(0,g,2,4,"div",24),2&t){var o=s.oc(2);s.tc("ngIf",!o.loading)}}function v(t,e){if(1&t){var o=s.Zb();s.Yb(0,"div",12),s.Yb(1,"input",13),s.kc("keyup",(function(t){return s.Hc(o),s.oc().updateFilter(t)})),s.pc(2,"translate"),s.Xb(),s.Yb(3,"ngx-datatable",14),s.Tb(4,"ngx-datatable-column",15),s.pc(5,"translate"),s.Tb(6,"ngx-datatable-column",16),s.pc(7,"translate"),s.Tb(8,"ngx-datatable-column",17),s.pc(9,"translate"),s.Yb(10,"ngx-datatable-column",18),s.pc(11,"translate"),s.Pc(12,f,2,0,"ng-template",19),s.Xb(),s.Tb(13,"ngx-datatable-column",20),s.pc(14,"translate"),s.Yb(15,"ngx-datatable-footer"),s.Pc(16,h,1,1,"ng-template",21),s.Xb(),s.Xb(),s.Xb()}if(2&t){var n=s.oc();s.Cb(1),s.vc("placeholder","",s.qc(2,11,"pro_search"),"..."),s.Cb(2),s.tc("rows",n.reimbursrments)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto"),s.Cb(1),s.uc("name",s.qc(5,13,"r_profile")),s.Cb(2),s.uc("name",s.qc(7,15,"r_name")),s.Cb(2),s.uc("name",s.qc(9,17,"r_email")),s.Cb(2),s.uc("name",s.qc(11,19,"r_upload_trans")),s.Cb(3),s.uc("name",s.qc(14,21,"r_join_date"))}}function y(t,e){if(1&t){var o=s.Zb();s.Yb(0,"div",27),s.Yb(1,"h5",28),s.Rc(2),s.pc(3,"translate"),s.Xb(),s.Yb(4,"button",29),s.kc("click",(function(){return e.$implicit.dismiss("Cross click")})),s.Yb(5,"span",30),s.Rc(6,"\xd7"),s.Xb(),s.Xb(),s.Xb(),s.Yb(7,"div",31),s.Yb(8,"div",32),s.Yb(9,"div",33),s.Yb(10,"label",34),s.Rc(11),s.pc(12,"translate"),s.Xb(),s.Yb(13,"input",35),s.kc("ngModelChange",(function(t){return s.Hc(o),s.oc().title=t})),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(14,"div",36),s.Yb(15,"button",37),s.kc("click",(function(){return s.Hc(o),s.oc().onSubmit()})),s.Rc(16),s.pc(17,"translate"),s.Xb(),s.Xb()}if(2&t){var n=s.oc();s.Cb(2),s.Tc(" ",s.qc(3,4,"pro_add_promotion")," "),s.Cb(9),s.Tc("",s.qc(12,6,"pro_title")," "),s.Cb(2),s.tc("ngModel",n.title),s.Cb(3),s.Tc(" ",s.qc(17,8,"pro_create")," ")}}var k,C,S,P=[{path:"",component:(k=function(){function t(e,o,n,a,i){var r=this;_classCallCheck(this,t),this.router=e,this.promotionService=o,this.translate=n,this.cs=a,this.modalService=i,this.promotions=[],this.selected=[],this.loading=!1,this.title="",this.reimbursrments=[],this.pagination={CurrentPage:1,HasNext:!1,HasPrevious:!1,PageSize:10,TotalCount:0,TotalPages:1},this.pageSizeOptions=[5,10,25,50],this.cs.isLoading.subscribe((function(t){r.loading=t}))}return _createClass(t,[{key:"open",value:function(t){var e=this;this.modalService.open(t,{size:"md",backdrop:"static",ariaLabelledBy:"modal-basic-title"}).result.then((function(t){e.closeResult="Closed with: ".concat(t)}),(function(t){e.closeResult="Dismissed ".concat(e.getDismissReason(t))}))}},{key:"getDismissReason",value:function(t){return t===i.a.ESC?"by pressing ESC":t===i.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: ".concat(t)}},{key:"onSelect",value:function(t){var e,o=t.selected;this.selected.splice(0,this.selected.length),(e=this.selected).push.apply(e,_toConsumableArray(o))}},{key:"onSelectRow",value:function(t){console.log(t)}},{key:"updateFilter",value:function(t){var e=t.target.value.toLowerCase(),o=this.promotions.filter((function(t){return-1!==t.name.toLowerCase().indexOf(e)||!e}));this.promotions=o,this.table.offset=0}},{key:"ngOnInit",value:function(){this.fetchPromotions()}},{key:"pageEvent",value:function(t){console.log(t),this.pagination.PageSize=t.pageSize,this.pagination.CurrentPage=t.pageIndex+1,this.fetchPromotions()}},{key:"fetchPromotions",value:function(){var t=this,e=this.pagination,o=e.PageSize,n=e.CurrentPage;this.loading=!0,this.promotionService.getPromotion("PageSize=".concat(o,"&PageNumber=").concat(n)).subscribe((function(e){e&&(t.cs.isLoading.next(!1),t.loading=!1,t.promotions=e.body,t.pagination=JSON.parse(e.headers.get("X-Pagination")))}))}},{key:"onEdit",value:function(t){console.log("row click",t),this.router.navigate(["/reimbursements/edit-reimbursement/",t])}},{key:"onDelete",value:function(t){console.log("row click",t)}},{key:"setPage",value:function(t){console.log("page--",t)}},{key:"addPromotion",value:function(t){this.open(t)}},{key:"onSubmit",value:function(){console.log("Submit")}}]),t}(),k.\u0275fac=function(t){return new(t||k)(s.Sb(l.d),s.Sb(b),s.Sb(p.d),s.Sb(u.a),s.Sb(i.j))},k.\u0275cmp=s.Mb({type:k,selectors:[["app-promotion"]],viewQuery:function(t,e){var o;1&t&&s.Xc(c.d,!0),2&t&&s.Cc(o=s.lc())&&(e.table=o.first)},decls:17,vars:8,consts:[[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header",2,"display","flex","justify-content","space-between"],["type","button","data-toggle","modal",1,"btn","btn-primary",3,"click"],[1,"card-body"],[2,"display","flex","align-items","center","justify-content","center"],[3,"loading"],["class","custom-datatable",4,"ngIf"],["class","modal-md"],["AddPromotion",""],[1,"custom-datatable"],["type","text",1,"filter-ngx","form-control",3,"placeholder","keyup"],[1,"bootstrap",3,"rows","columnMode","headerHeight","footerHeight","rowHeight"],["prop","image",3,"name"],["prop","name",3,"name"],["prop","email",3,"name"],[3,"name"],["ngx-datatable-cell-template",""],["prop","join_date",3,"name"],["ngx-datatable-footer-template",""],[2,"color","#f88379","cursor","pointer"],[1,"fa","fa-upload",3,"click"],["class","pagination","style","margin-bottom: 10px; width: -webkit-fill-available",4,"ngIf"],[1,"pagination",2,"margin-bottom","10px","width","-webkit-fill-available"],[2,"width","-webkit-fill-available",3,"pageIndex","length","pageSize","pageSizeOptions","page"],[1,"modal-header",2,"background","#f88379"],["id","exampleModalLabel",1,"modal-title",2,"color","white"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"main-container",2,"padding","10px 30px"],[1,"form-group","row"],["for","validationCustom01",1,"required"],["id","validationCustom01","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"action",2,"padding","15px 30px"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,e){if(1&t){var o=s.Zb();s.Yb(0,"div",0),s.Yb(1,"div",1),s.Yb(2,"div",2),s.Yb(3,"div",3),s.Yb(4,"div",4),s.Yb(5,"h5"),s.Rc(6),s.pc(7,"translate"),s.Xb(),s.Yb(8,"button",5),s.kc("click",(function(){s.Hc(o);var t=s.Dc(16);return e.addPromotion(t)})),s.Rc(9),s.pc(10,"translate"),s.Xb(),s.Xb(),s.Yb(11,"div",6),s.Yb(12,"div",7),s.Tb(13,"app-loader",8),s.Xb(),s.Pc(14,v,17,23,"div",9),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Pc(15,y,18,10,"ng-template",10,11,s.Qc)}2&t&&(s.Cb(6),s.Sc(s.qc(7,4,"Promotions")),s.Cb(3),s.Tc(" ",s.qc(10,6,"pro_add_promotion")," "),s.Cb(4),s.tc("loading",e.loading),s.Cb(1),s.tc("ngIf",!e.loading))},directives:[d.a,a.l,c.d,c.b,c.a,c.e,c.c,m.a,r.b,r.m,r.p],pipes:[p.c],styles:[""]}),k),data:{title:"Promotion",breadcrumb:"Promotion"}}],_=((C=function t(){_classCallCheck(this,t)}).\u0275mod=s.Qb({type:C}),C.\u0275inj=s.Pb({factory:function(t){return new(t||C)},imports:[[l.h.forChild(P)],l.h]}),C),w=o("PCNd"),X=((S=function t(){_classCallCheck(this,t)}).\u0275mod=s.Qb({type:S}),S.\u0275inj=s.Pb({factory:function(t){return new(t||S)},imports:[[a.c,_,i.k,r.t,r.h,c.f,w.a]]}),S)}}]);