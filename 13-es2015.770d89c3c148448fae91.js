(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{qpc4:function(t,e,o){"use strict";o.r(e),o.d(e,"PromotionModule",(function(){return P}));var i=o("ofXK"),n=o("1kSV"),s=o("3Pt+"),r=o("lDzL"),a=o("tyNb"),c=o("fXoL"),l=o("EfS0");let d=(()=>{class t{constructor(t){this.commonService=t}getPromotion(t=""){return this.commonService.get(`common/get-promotion${t}`)}updatePromotion(t){return this.commonService.post("common/update-promotion",t)}}return t.\u0275fac=function(e){return new(e||t)(c.gc(l.a))},t.\u0275prov=c.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b=o("sYmb"),m=o("VkHG"),p=o("668k"),u=o("CRtM");function h(t,e){if(1&t&&c.Tb(0,"div",14),2&t){const t=c.oc(2);c.tc("innerHTML",t.promotionText,c.Ic)}}function g(t,e){if(1&t){const t=c.Zb();c.Yb(0,"app-text-editor",15),c.kc("textChange",(function(e){return c.Hc(t),c.oc(2).promotionText=e}))("textEmit",(function(e){return c.Hc(t),c.oc(2).handleChange(e,"promotionText")})),c.Xb()}if(2&t){const t=c.oc(2);c.tc("text",t.promotionText)}}function f(t,e){if(1&t&&(c.Yb(0,"div",10),c.Yb(1,"div"),c.Yb(2,"div",11),c.Pc(3,h,1,1,"div",12),c.Pc(4,g,1,1,"app-text-editor",13),c.Xb(),c.Tb(5,"hr"),c.Xb(),c.Xb()),2&t){const t=c.oc();c.Cb(3),c.tc("ngIf",!t.editable),c.Cb(1),c.tc("ngIf",t.editable)}}const v=[{path:"",component:(()=>{class t{constructor(t,e,o,i,n){this.router=t,this.promotionService=e,this.translate=o,this.cs=i,this.modalService=n,this.promotions=[],this.selected=[],this.loading=!1,this.title="",this.reimbursrments=[],this.promotionText="",this.editable=!1,this.pagination={CurrentPage:1,HasNext:!1,HasPrevious:!1,PageSize:10,TotalCount:0,TotalPages:1},this.pageSizeOptions=[5,10,25,50],this.config1={editable:!0,spellcheck:!0,height:"15rem",minHeight:"5rem",placeholder:"Enter text here...",translate:"no",defaultParagraphSeparator:"p",defaultFontName:"Arial",toolbarHiddenButtons:[["bold","insertImage","insertVideo","link","unlink","toggleEditorMode","textColor","backgroundColor"]],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}]},this.cs.isLoading.subscribe(t=>{this.loading=t})}open(t){this.modalService.open(t,{size:"md",backdrop:"static",ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}getDismissReason(t){return t===n.a.ESC?"by pressing ESC":t===n.a.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}onSelect({selected:t}){this.selected.splice(0,this.selected.length),this.selected.push(...t)}onSelectRow(t){console.log(t)}updateFilter(t){const e=t.target.value.toLowerCase(),o=this.promotions.filter((function(t){return-1!==t.name.toLowerCase().indexOf(e)||!e}));this.promotions=o,this.table.offset=0}ngOnInit(){this.fetchPromotions()}handleChange(t,e){this.tempPromotion=t}fetchPromotions(){this.loading=!0,this.promotionService.getPromotion().subscribe(t=>{t&&(console.log(t),this.cs.isLoading.next(!1),this.loading=!1,this.promotionText=t.body.Promotions,this.pagination=JSON.parse(t.headers.get("X-Pagination")))})}onEdit(t){console.log("row click",t),this.router.navigate(["/reimbursements/edit-reimbursement/",t])}onDelete(t){console.log("row click",t)}setPage(t){console.log("page--",t)}addPromotion(t){this.open(t)}onSubmit(){console.log("Submit")}onEditClick(){this.editable=!this.editable}onUpdate(){}}return t.\u0275fac=function(e){return new(e||t)(c.Sb(a.d),c.Sb(d),c.Sb(b.d),c.Sb(l.a),c.Sb(n.j))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-promotion"]],viewQuery:function(t,e){var o;1&t&&c.Xc(r.d,!0),2&t&&c.Cc(o=c.lc())&&(e.table=o.first)},decls:13,vars:9,consts:[[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header",2,"display","flex","justify-content","space-between"],[2,"margin-left","10px",3,"btnType","loading","disabled","btnText","onSubmit"],[1,"card-body"],[2,"display","flex","align-items","center","justify-content","center"],[3,"loading"],["class","custom-datatable",4,"ngIf"],[1,"custom-datatable"],[2,"background","white"],[3,"innerHTML",4,"ngIf"],[3,"text","textChange","textEmit",4,"ngIf"],[3,"innerHTML"],[3,"text","textChange","textEmit"]],template:function(t,e){1&t&&(c.Yb(0,"div",0),c.Yb(1,"div",1),c.Yb(2,"div",2),c.Yb(3,"div",3),c.Yb(4,"div",4),c.Yb(5,"h5"),c.Rc(6),c.pc(7,"translate"),c.Xb(),c.Yb(8,"app-button",5),c.kc("onSubmit",(function(){return e.editable?e.onUpdate():e.onEditClick()})),c.Xb(),c.Xb(),c.Yb(9,"div",6),c.Yb(10,"div",7),c.Tb(11,"app-loader",8),c.Xb(),c.Pc(12,f,6,2,"div",9),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t&&(c.Cb(6),c.Sc(c.qc(7,7,"Promotions")),c.Cb(2),c.tc("btnType","submit")("loading",e.loading)("disabled",e.loading)("btnText",e.editable?"Update":"Edit"),c.Cb(3),c.tc("loading",e.loading),c.Cb(1),c.tc("ngIf",!e.loading))},directives:[m.a,p.a,i.l,u.a],pipes:[b.c],styles:[""]}),t})(),data:{title:"Promotion",breadcrumb:"Promotion"}}];let x=(()=>{class t{}return t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({factory:function(e){return new(e||t)},imports:[[a.h.forChild(v)],a.h]}),t})();var C=o("PCNd");let P=(()=>{class t{}return t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({factory:function(e){return new(e||t)},imports:[[i.c,x,n.k,s.t,s.h,r.f,C.a]]}),t})()}}]);