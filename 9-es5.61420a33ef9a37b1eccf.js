function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,a,t){return a&&_defineProperties(e.prototype,a),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"3TMC":function(e,a,t){"use strict";t.r(a),t.d(a,"CampaignModule",(function(){return z}));var n,i=t("ofXK"),c=t("1kSV"),o=t("3Pt+"),r=t("lDzL"),b=t("tyNb"),l=t("fXoL"),p=t("EfS0"),s=((n=function(){function e(a){_classCallCheck(this,e),this.commonService=a}return _createClass(e,[{key:"getAllCampaigns",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.commonService.get("common/get-all-campaigns".concat(e))}},{key:"getRandomCampaigns",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.commonService.get("admin/get-random-campaigns".concat(e))}},{key:"createCampaign",value:function(e){return this.commonService.post("admin/create-campaign",e)}},{key:"removeCampaign",value:function(e){return this.commonService.delete("admin/delete-campaign/".concat(e))}}]),e}()).\u0275fac=function(e){return new(e||n)(l.gc(p.a))},n.\u0275prov=l.Ob({token:n,factory:n.\u0275fac,providedIn:"root"}),n),g=t("VkHG"),d=t("CRtM"),u=t("668k"),m=t("pqks"),f=t("sYmb");function h(e,a){if(1&e){var t=l.Zb();l.Yb(0,"div"),l.Yb(1,"div",14),l.Yb(2,"div",15),l.Yb(3,"h3"),l.Rc(4),l.Xb(),l.Xb(),l.Tb(5,"hr"),l.Yb(6,"div"),l.Yb(7,"div",16),l.Yb(8,"button",17),l.Rc(9," Save Draft "),l.Xb(),l.Yb(10,"button",17),l.Rc(11,"preview"),l.Xb(),l.Xb(),l.Tb(12,"br"),l.Yb(13,"div",18),l.Tb(14,"app-feather-icons",19),l.Rc(15,"\xa0 "),l.Yb(16,"span"),l.Rc(17,"Status :"),l.Xb(),l.Rc(18,"\xa0 "),l.Yb(19,"strong"),l.Rc(20),l.Xb(),l.Rc(21,"\xa0 "),l.Yb(22,"a",20),l.Rc(23,"Edit"),l.Xb(),l.Xb(),l.Tb(24,"br"),l.Yb(25,"div",18),l.Tb(26,"app-feather-icons",19),l.Rc(27,"\xa0 "),l.Yb(28,"span"),l.Rc(29,"Publish :"),l.Xb(),l.Rc(30,"\xa0 "),l.Yb(31,"strong"),l.Rc(32),l.Xb(),l.Rc(33,"\xa0 "),l.Yb(34,"a",20),l.Rc(35,"Edit"),l.Xb(),l.Xb(),l.Xb(),l.Tb(36,"br"),l.Xb(),l.Tb(37,"hr",21),l.Yb(38,"div",22),l.Yb(39,"div",23),l.kc("click",(function(){return l.Hc(t),l.oc(2).goBack()})),l.Rc(40," Go Back "),l.Xb(),l.Yb(41,"button",17),l.Rc(42,"Publish"),l.Xb(),l.Xb(),l.Xb()}if(2&e){var n=a.$implicit;l.Cb(4),l.Sc(n.name),l.Cb(10),l.tc("icon","key"),l.Cb(6),l.Sc(n.status),l.Cb(6),l.tc("icon","calendar"),l.Cb(6),l.Sc(n.publish)}}function v(e,a){if(1&e&&(l.Yb(0,"div",12),l.Pc(1,h,43,5,"div",13),l.Xb()),2&e){var t=l.oc();l.Cb(1),l.tc("ngForOf",t.campaigns)}}var C,x=((C=function(){function e(a,t,n){var i=this;_classCallCheck(this,e),this.router=a,this.campaignService=t,this.cs=n,this.name="",this.template="",this.campaigns=[],this.loading=!1,this.cs.isLoading.subscribe((function(e){i.loading=e}))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"goBack",value:function(){this.router.navigate(["/campaign"])}},{key:"handleChange",value:function(e,a){console.log(e,a),this.template=e}},{key:"onAddCampaign",value:function(){var e=this;console.log(this.name,this.template),this.loading=!0,this.campaignService.createCampaign({name:this.name,text:this.template,status:"Drafted",publish:"Immediate",template:{bold:!0,color:"black",italic:!1,name:"Arial",size:"16",underline:!1}}).subscribe((function(a){e.cs.isLoading.next(!1),e.loading=!1}))}},{key:"onRedirect",value:function(){this.router.navigate(["/campaign"])}}]),e}()).\u0275fac=function(e){return new(e||C)(l.Sb(b.d),l.Sb(s),l.Sb(p.a))},C.\u0275cmp=l.Mb({type:C,selectors:[["app-campaign"]],decls:17,vars:11,consts:[[1,"container-fluid"],[1,"row"],[1,"col-xl-8",2,"padding-right","0%"],[2,"display","grid","grid-template-columns","1fr 180px","grid-gap","10px"],["id","name","name","name","type","text","required","",1,"form-control","field-margin",3,"ngModel","placeholder","ngModelChange"],[3,"btnType","loading","disabled","btnText","onSubmit"],[2,"background","white"],[3,"text","textChange","textEmit"],[1,"col-xl-4",2,"padding-left","0%"],[2,"display","flex","align-items","center","justify-content","center"],[3,"loading"],["style","display: grid; grid-gap: 10px",4,"ngIf"],[2,"display","grid","grid-gap","10px"],[4,"ngFor","ngForOf"],[2,"background","white","margin","0px 10px","border-radius","10px 10px 0px 0px","padding","10px","border","solid lightgrey 1px","border-bottom","none"],[2,"align-items","center"],[2,"justify-content","space-between","display","flex"],["type","button",1,"btn","btn-primary"],[2,"align-items","center","display","flex"],[1,"font-warning",3,"icon"],["href",""],[2,"margin","0px 10px"],[2,"margin","0px 10px","border-radius","0px 0px 10px 10px","padding","10px","justify-content","space-between","display","flex","background","#f4f4f4","border","solid lightgrey 1px","border-top","none"],[2,"color","#f88379","align-items","center","display","flex","font-weight","500","cursor","pointer","padding","0px 10px",3,"click"]],template:function(e,a){1&e&&(l.Yb(0,"div",0),l.Yb(1,"h3"),l.Rc(2,"Add New Post"),l.Xb(),l.Yb(3,"div",1),l.Yb(4,"div",2),l.Yb(5,"div",3),l.Yb(6,"input",4),l.kc("ngModelChange",(function(e){return a.name=e})),l.pc(7,"translate"),l.Xb(),l.Yb(8,"app-button",5),l.kc("onSubmit",(function(){return a.onAddCampaign()})),l.Xb(),l.Xb(),l.Tb(9,"br"),l.Yb(10,"div",6),l.Yb(11,"app-text-editor",7),l.kc("textChange",(function(e){return a.template=e}))("textEmit",(function(e){return a.handleChange(e,"template")})),l.Xb(),l.Xb(),l.Tb(12,"br"),l.Xb(),l.Yb(13,"div",8),l.Yb(14,"div",9),l.Tb(15,"app-loader",10),l.Xb(),l.Pc(16,v,2,1,"div",11),l.Xb(),l.Xb(),l.Xb()),2&e&&(l.Cb(6),l.uc("placeholder",l.qc(7,9,"mag_name")),l.tc("ngModel",a.name),l.Cb(2),l.tc("btnType","submit")("loading",!1)("disabled",a.loading)("btnText","Add Campaign"),l.Cb(3),l.tc("text",a.template),l.Cb(4),l.tc("loading",a.loading),l.Cb(1),l.tc("ngIf",!a.loading))},directives:[o.b,o.u,o.m,o.p,g.a,d.a,u.a,i.l,i.k,m.a],pipes:[f.c],styles:[""]}),C),y=t("M9IT");function k(e,a){if(1&e){var t=l.Zb();l.Yb(0,"div"),l.Yb(1,"span",16),l.Yb(2,"i",17),l.kc("click",(function(){l.Hc(t);var e=a.value;return l.oc().onEdit(e)})),l.Xb(),l.Xb(),l.Yb(3,"span",18),l.Yb(4,"i",19),l.kc("click",(function(){l.Hc(t);var e=a.value;return l.oc().onDelete(e)})),l.Xb(),l.Xb(),l.Xb()}}function X(e,a){if(1&e){var t=l.Zb();l.Yb(0,"div",21),l.Yb(1,"mat-paginator",22),l.kc("page",(function(e){return l.Hc(t),l.oc(2).pageEvent(e)})),l.Xb(),l.Xb()}if(2&e){var n=l.oc(2);l.Cb(1),l.tc("pageIndex",n.pagination.CurrentPage-1)("length",n.pagination.TotalCount)("pageSize",n.pagination.PageSize)("pageSizeOptions",n.pageSizeOptions)}}function Y(e,a){if(1&e&&l.Pc(0,X,2,4,"div",20),2&e){var t=l.oc();l.tc("ngIf",!t.loading)}}var S,w,P,T=[{path:"",children:[{path:"",component:(S=function(){function e(a,t,n){_classCallCheck(this,e),this.router=a,this.campaignService=t,this.cs=n,this.campaigns=[],this.temp=[],this.loading=!1,this.pagination={CurrentPage:1,HasNext:!1,HasPrevious:!1,PageSize:10,TotalCount:0,TotalPages:1},this.pageSizeOptions=[5,10,25,50],this.getCampaigns()}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onAdd",value:function(){this.router.navigate(["/campaign/create-campaign"])}},{key:"onEdit",value:function(e){var a="/campaign/edit-campaign/".concat(e.replace(/#/g,""));this.router.navigate([a])}},{key:"onDelete",value:function(e){var a=this;console.log(e,"delete"),this.campaignService.removeCampaign(e).subscribe((function(e){console.log("deleted"),a.getCampaigns()}))}},{key:"pageEvent",value:function(e){console.log(e),this.pagination.PageSize=e.pageSize,this.pagination.CurrentPage=e.pageIndex+1,this.getCampaigns()}},{key:"getCampaigns",value:function(){var e=this,a=this.pagination,t=a.PageSize,n=a.CurrentPage;this.loading=!0,this.campaignService.getAllCampaigns("?PageSize=".concat(t,"&PageNumber=").concat(n)).subscribe((function(a){if(a){e.cs.isLoading.next(!1),e.loading=!1,e.campaigns=a.body;var t=JSON.parse(a.headers.get("X-Pagination"));t&&(e.pagination=t)}}))}}]),e}(),S.\u0275fac=function(e){return new(e||S)(l.Sb(b.d),l.Sb(s),l.Sb(p.a))},S.\u0275cmp=l.Mb({type:S,selectors:[["app-campaign-list"]],viewQuery:function(e,a){var t;1&e&&l.Xc(r.d,!0),2&e&&l.Cc(t=l.lc())&&(a.table=t.first)},decls:26,vars:26,consts:[[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header",2,"display","flex","justify-content","space-between"],[2,"margin-left","10px",3,"btnType","btnText","onSubmit"],[1,"card-body"],[1,"custom-datatable"],[1,"bootstrap",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit"],["prop","name",3,"name"],["prop","status",3,"name"],["prop","publish",3,"name"],["prop","text",3,"name"],["sortable","false","prop","order id",3,"name"],["ngx-datatable-cell-template",""],["ngx-datatable-footer-template",""],[2,"color","#f88379","cursor","pointer"],[1,"fa","fa-eye",3,"click"],[2,"color","#f88379","cursor","pointer","margin-left","10px"],[1,"fa","fa-trash-o",3,"click"],["class","pagination","style","margin-bottom: 10px; width: -webkit-fill-available",4,"ngIf"],[1,"pagination",2,"margin-bottom","10px","width","-webkit-fill-available"],[2,"width","-webkit-fill-available",3,"pageIndex","length","pageSize","pageSizeOptions","page"]],template:function(e,a){1&e&&(l.Yb(0,"div",0),l.Yb(1,"div",1),l.Yb(2,"div",2),l.Yb(3,"div",3),l.Yb(4,"div",4),l.Yb(5,"h5"),l.Rc(6),l.pc(7,"translate"),l.Xb(),l.Yb(8,"app-button",5),l.kc("onSubmit",(function(){return a.onAdd()})),l.Xb(),l.Xb(),l.Yb(9,"div",6),l.Tb(10,"br"),l.Yb(11,"div",7),l.Yb(12,"ngx-datatable",8),l.Tb(13,"ngx-datatable-column",9),l.pc(14,"translate"),l.Tb(15,"ngx-datatable-column",10),l.pc(16,"translate"),l.Tb(17,"ngx-datatable-column",11),l.pc(18,"translate"),l.Tb(19,"ngx-datatable-column",12),l.pc(20,"translate"),l.Yb(21,"ngx-datatable-column",13),l.pc(22,"translate"),l.Pc(23,k,5,0,"ng-template",14),l.Xb(),l.Yb(24,"ngx-datatable-footer"),l.Pc(25,Y,1,1,"ng-template",15),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb()),2&e&&(l.Cb(6),l.Sc(l.qc(7,14,"re_return_exchange")),l.Cb(2),l.tc("btnType","submit")("btnText","Add"),l.Cb(4),l.tc("rows",a.campaigns)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",5),l.Cb(1),l.uc("name",l.qc(14,16,"campaign_name")),l.Cb(2),l.uc("name",l.qc(16,18,"campaign_status")),l.Cb(2),l.uc("name",l.qc(18,20,"campaign_publish")),l.Cb(2),l.uc("name",l.qc(20,22,"campaign_text")),l.Cb(2),l.uc("name",l.qc(22,24,"campaign_action")))},directives:[g.a,r.d,r.b,r.a,r.e,r.c,i.l,y.a],pipes:[f.c],styles:[""]}),S),data:{title:"Campaign",breadcrumb:"Campaign"}},{path:"create-campaign",component:x,data:{title:"Campaign",breadcrumb:"Campaign"}},{path:"edit-campaign/:id",component:x,data:{title:"Campaign",breadcrumb:"Campaign"}}]}],R=((w=function e(){_classCallCheck(this,e)}).\u0275mod=l.Qb({type:w}),w.\u0275inj=l.Pb({factory:function(e){return new(e||w)},imports:[[b.h.forChild(T)],b.h]}),w),_=t("PCNd"),z=((P=function e(){_classCallCheck(this,e)}).\u0275mod=l.Qb({type:P}),P.\u0275inj=l.Pb({factory:function(e){return new(e||P)},imports:[[i.c,R,c.k,o.t,o.h,r.f,_.a]]}),P)}}]);