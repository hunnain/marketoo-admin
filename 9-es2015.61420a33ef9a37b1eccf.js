(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"3TMC":function(t,e,a){"use strict";a.r(e),a.d(e,"CampaignModule",(function(){return w}));var n=a("ofXK"),i=a("1kSV"),c=a("3Pt+"),o=a("lDzL"),r=a("tyNb"),b=a("fXoL"),p=a("EfS0");let s=(()=>{class t{constructor(t){this.commonService=t}getAllCampaigns(t=""){return this.commonService.get(`common/get-all-campaigns${t}`)}getRandomCampaigns(t=""){return this.commonService.get(`admin/get-random-campaigns${t}`)}createCampaign(t){return this.commonService.post("admin/create-campaign",t)}removeCampaign(t){return this.commonService.delete(`admin/delete-campaign/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(b.gc(p.a))},t.\u0275prov=b.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=a("VkHG"),l=a("CRtM"),d=a("668k"),m=a("pqks"),u=a("sYmb");function h(t,e){if(1&t){const t=b.Zb();b.Yb(0,"div"),b.Yb(1,"div",14),b.Yb(2,"div",15),b.Yb(3,"h3"),b.Rc(4),b.Xb(),b.Xb(),b.Tb(5,"hr"),b.Yb(6,"div"),b.Yb(7,"div",16),b.Yb(8,"button",17),b.Rc(9," Save Draft "),b.Xb(),b.Yb(10,"button",17),b.Rc(11,"preview"),b.Xb(),b.Xb(),b.Tb(12,"br"),b.Yb(13,"div",18),b.Tb(14,"app-feather-icons",19),b.Rc(15,"\xa0 "),b.Yb(16,"span"),b.Rc(17,"Status :"),b.Xb(),b.Rc(18,"\xa0 "),b.Yb(19,"strong"),b.Rc(20),b.Xb(),b.Rc(21,"\xa0 "),b.Yb(22,"a",20),b.Rc(23,"Edit"),b.Xb(),b.Xb(),b.Tb(24,"br"),b.Yb(25,"div",18),b.Tb(26,"app-feather-icons",19),b.Rc(27,"\xa0 "),b.Yb(28,"span"),b.Rc(29,"Publish :"),b.Xb(),b.Rc(30,"\xa0 "),b.Yb(31,"strong"),b.Rc(32),b.Xb(),b.Rc(33,"\xa0 "),b.Yb(34,"a",20),b.Rc(35,"Edit"),b.Xb(),b.Xb(),b.Xb(),b.Tb(36,"br"),b.Xb(),b.Tb(37,"hr",21),b.Yb(38,"div",22),b.Yb(39,"div",23),b.kc("click",(function(){return b.Hc(t),b.oc(2).goBack()})),b.Rc(40," Go Back "),b.Xb(),b.Yb(41,"button",17),b.Rc(42,"Publish"),b.Xb(),b.Xb(),b.Xb()}if(2&t){const t=e.$implicit;b.Cb(4),b.Sc(t.name),b.Cb(10),b.tc("icon","key"),b.Cb(6),b.Sc(t.status),b.Cb(6),b.tc("icon","calendar"),b.Cb(6),b.Sc(t.publish)}}function f(t,e){if(1&t&&(b.Yb(0,"div",12),b.Pc(1,h,43,5,"div",13),b.Xb()),2&t){const t=b.oc();b.Cb(1),b.tc("ngForOf",t.campaigns)}}let v=(()=>{class t{constructor(t,e,a){this.router=t,this.campaignService=e,this.cs=a,this.name="",this.template="",this.campaigns=[],this.loading=!1,this.cs.isLoading.subscribe(t=>{this.loading=t})}ngOnInit(){}goBack(){this.router.navigate(["/campaign"])}handleChange(t,e){console.log(t,e),this.template=t}onAddCampaign(){console.log(this.name,this.template),this.loading=!0,this.campaignService.createCampaign({name:this.name,text:this.template,status:"Drafted",publish:"Immediate",template:{bold:!0,color:"black",italic:!1,name:"Arial",size:"16",underline:!1}}).subscribe(t=>{this.cs.isLoading.next(!1),this.loading=!1})}onRedirect(){this.router.navigate(["/campaign"])}}return t.\u0275fac=function(e){return new(e||t)(b.Sb(r.d),b.Sb(s),b.Sb(p.a))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-campaign"]],decls:17,vars:11,consts:[[1,"container-fluid"],[1,"row"],[1,"col-xl-8",2,"padding-right","0%"],[2,"display","grid","grid-template-columns","1fr 180px","grid-gap","10px"],["id","name","name","name","type","text","required","",1,"form-control","field-margin",3,"ngModel","placeholder","ngModelChange"],[3,"btnType","loading","disabled","btnText","onSubmit"],[2,"background","white"],[3,"text","textChange","textEmit"],[1,"col-xl-4",2,"padding-left","0%"],[2,"display","flex","align-items","center","justify-content","center"],[3,"loading"],["style","display: grid; grid-gap: 10px",4,"ngIf"],[2,"display","grid","grid-gap","10px"],[4,"ngFor","ngForOf"],[2,"background","white","margin","0px 10px","border-radius","10px 10px 0px 0px","padding","10px","border","solid lightgrey 1px","border-bottom","none"],[2,"align-items","center"],[2,"justify-content","space-between","display","flex"],["type","button",1,"btn","btn-primary"],[2,"align-items","center","display","flex"],[1,"font-warning",3,"icon"],["href",""],[2,"margin","0px 10px"],[2,"margin","0px 10px","border-radius","0px 0px 10px 10px","padding","10px","justify-content","space-between","display","flex","background","#f4f4f4","border","solid lightgrey 1px","border-top","none"],[2,"color","#f88379","align-items","center","display","flex","font-weight","500","cursor","pointer","padding","0px 10px",3,"click"]],template:function(t,e){1&t&&(b.Yb(0,"div",0),b.Yb(1,"h3"),b.Rc(2,"Add New Post"),b.Xb(),b.Yb(3,"div",1),b.Yb(4,"div",2),b.Yb(5,"div",3),b.Yb(6,"input",4),b.kc("ngModelChange",(function(t){return e.name=t})),b.pc(7,"translate"),b.Xb(),b.Yb(8,"app-button",5),b.kc("onSubmit",(function(){return e.onAddCampaign()})),b.Xb(),b.Xb(),b.Tb(9,"br"),b.Yb(10,"div",6),b.Yb(11,"app-text-editor",7),b.kc("textChange",(function(t){return e.template=t}))("textEmit",(function(t){return e.handleChange(t,"template")})),b.Xb(),b.Xb(),b.Tb(12,"br"),b.Xb(),b.Yb(13,"div",8),b.Yb(14,"div",9),b.Tb(15,"app-loader",10),b.Xb(),b.Pc(16,f,2,1,"div",11),b.Xb(),b.Xb(),b.Xb()),2&t&&(b.Cb(6),b.uc("placeholder",b.qc(7,9,"mag_name")),b.tc("ngModel",e.name),b.Cb(2),b.tc("btnType","submit")("loading",!1)("disabled",e.loading)("btnText","Add Campaign"),b.Cb(3),b.tc("text",e.template),b.Cb(4),b.tc("loading",e.loading),b.Cb(1),b.tc("ngIf",!e.loading))},directives:[c.b,c.u,c.m,c.p,g.a,l.a,d.a,n.l,n.k,m.a],pipes:[u.c],styles:[""]}),t})();var x=a("M9IT");function C(t,e){if(1&t){const t=b.Zb();b.Yb(0,"div"),b.Yb(1,"span",16),b.Yb(2,"i",17),b.kc("click",(function(){b.Hc(t);const a=e.value;return b.oc().onEdit(a)})),b.Xb(),b.Xb(),b.Yb(3,"span",18),b.Yb(4,"i",19),b.kc("click",(function(){b.Hc(t);const a=e.value;return b.oc().onDelete(a)})),b.Xb(),b.Xb(),b.Xb()}}function X(t,e){if(1&t){const t=b.Zb();b.Yb(0,"div",21),b.Yb(1,"mat-paginator",22),b.kc("page",(function(e){return b.Hc(t),b.oc(2).pageEvent(e)})),b.Xb(),b.Xb()}if(2&t){const t=b.oc(2);b.Cb(1),b.tc("pageIndex",t.pagination.CurrentPage-1)("length",t.pagination.TotalCount)("pageSize",t.pagination.PageSize)("pageSizeOptions",t.pageSizeOptions)}}function Y(t,e){if(1&t&&b.Pc(0,X,2,4,"div",20),2&t){const t=b.oc();b.tc("ngIf",!t.loading)}}const S=[{path:"",children:[{path:"",component:(()=>{class t{constructor(t,e,a){this.router=t,this.campaignService=e,this.cs=a,this.campaigns=[],this.temp=[],this.loading=!1,this.pagination={CurrentPage:1,HasNext:!1,HasPrevious:!1,PageSize:10,TotalCount:0,TotalPages:1},this.pageSizeOptions=[5,10,25,50],this.getCampaigns()}ngOnInit(){}onAdd(){this.router.navigate(["/campaign/create-campaign"])}onEdit(t){let e=`/campaign/edit-campaign/${t.replace(/#/g,"")}`;this.router.navigate([e])}onDelete(t){console.log(t,"delete"),this.campaignService.removeCampaign(t).subscribe(t=>{console.log("deleted"),this.getCampaigns()})}pageEvent(t){console.log(t),this.pagination.PageSize=t.pageSize,this.pagination.CurrentPage=t.pageIndex+1,this.getCampaigns()}getCampaigns(){const{PageSize:t,CurrentPage:e}=this.pagination;this.loading=!0,this.campaignService.getAllCampaigns(`?PageSize=${t}&PageNumber=${e}`).subscribe(t=>{if(t){this.cs.isLoading.next(!1),this.loading=!1,this.campaigns=t.body;let e=JSON.parse(t.headers.get("X-Pagination"));e&&(this.pagination=e)}})}}return t.\u0275fac=function(e){return new(e||t)(b.Sb(r.d),b.Sb(s),b.Sb(p.a))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-campaign-list"]],viewQuery:function(t,e){var a;1&t&&b.Xc(o.d,!0),2&t&&b.Cc(a=b.lc())&&(e.table=a.first)},decls:26,vars:26,consts:[[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header",2,"display","flex","justify-content","space-between"],[2,"margin-left","10px",3,"btnType","btnText","onSubmit"],[1,"card-body"],[1,"custom-datatable"],[1,"bootstrap",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit"],["prop","name",3,"name"],["prop","status",3,"name"],["prop","publish",3,"name"],["prop","text",3,"name"],["sortable","false","prop","order id",3,"name"],["ngx-datatable-cell-template",""],["ngx-datatable-footer-template",""],[2,"color","#f88379","cursor","pointer"],[1,"fa","fa-eye",3,"click"],[2,"color","#f88379","cursor","pointer","margin-left","10px"],[1,"fa","fa-trash-o",3,"click"],["class","pagination","style","margin-bottom: 10px; width: -webkit-fill-available",4,"ngIf"],[1,"pagination",2,"margin-bottom","10px","width","-webkit-fill-available"],[2,"width","-webkit-fill-available",3,"pageIndex","length","pageSize","pageSizeOptions","page"]],template:function(t,e){1&t&&(b.Yb(0,"div",0),b.Yb(1,"div",1),b.Yb(2,"div",2),b.Yb(3,"div",3),b.Yb(4,"div",4),b.Yb(5,"h5"),b.Rc(6),b.pc(7,"translate"),b.Xb(),b.Yb(8,"app-button",5),b.kc("onSubmit",(function(){return e.onAdd()})),b.Xb(),b.Xb(),b.Yb(9,"div",6),b.Tb(10,"br"),b.Yb(11,"div",7),b.Yb(12,"ngx-datatable",8),b.Tb(13,"ngx-datatable-column",9),b.pc(14,"translate"),b.Tb(15,"ngx-datatable-column",10),b.pc(16,"translate"),b.Tb(17,"ngx-datatable-column",11),b.pc(18,"translate"),b.Tb(19,"ngx-datatable-column",12),b.pc(20,"translate"),b.Yb(21,"ngx-datatable-column",13),b.pc(22,"translate"),b.Pc(23,C,5,0,"ng-template",14),b.Xb(),b.Yb(24,"ngx-datatable-footer"),b.Pc(25,Y,1,1,"ng-template",15),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t&&(b.Cb(6),b.Sc(b.qc(7,14,"re_return_exchange")),b.Cb(2),b.tc("btnType","submit")("btnText","Add"),b.Cb(4),b.tc("rows",e.campaigns)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",5),b.Cb(1),b.uc("name",b.qc(14,16,"campaign_name")),b.Cb(2),b.uc("name",b.qc(16,18,"campaign_status")),b.Cb(2),b.uc("name",b.qc(18,20,"campaign_publish")),b.Cb(2),b.uc("name",b.qc(20,22,"campaign_text")),b.Cb(2),b.uc("name",b.qc(22,24,"campaign_action")))},directives:[g.a,o.d,o.b,o.a,o.e,o.c,n.l,x.a],pipes:[u.c],styles:[""]}),t})(),data:{title:"Campaign",breadcrumb:"Campaign"}},{path:"create-campaign",component:v,data:{title:"Campaign",breadcrumb:"Campaign"}},{path:"edit-campaign/:id",component:v,data:{title:"Campaign",breadcrumb:"Campaign"}}]}];let y=(()=>{class t{}return t.\u0275mod=b.Qb({type:t}),t.\u0275inj=b.Pb({factory:function(e){return new(e||t)},imports:[[r.h.forChild(S)],r.h]}),t})();var k=a("PCNd");let w=(()=>{class t{}return t.\u0275mod=b.Qb({type:t}),t.\u0275inj=b.Pb({factory:function(e){return new(e||t)},imports:[[n.c,y,i.k,c.t,c.h,o.f,k.a]]}),t})()}}]);